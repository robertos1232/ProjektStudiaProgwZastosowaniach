{% extends 'base.html' %}
{% load static %}
{% block title %}
    <title>{{ ann.get_type_display }} w {{ ann.address_city }}</title>
{% endblock %}


{% block content %}
    <style>
        .main-carousel .carousel-item {
            text-align: center;
        }

        .main-carousel img {
            max-height: 400px;
            margin: auto;
            display: inline-block;
        }

        .thumbnail-carousel .carousel-inner {
            white-space: nowrap;
            overflow-x: auto;
        }

        .thumbnail-carousel .carousel-item {
            display: inline-block;
            width: auto;
            cursor: pointer;
        }

        .thumbnail-carousel img {
            max-height: 100px;
            margin-right: 5px;
            opacity: 0.7;
        }

        .thumbnail-carousel img.active {
            opacity: 1;
        }

        .detail-description {
            font-size: 14px;
            color: #555;
            margin-top: 5px;
        }

        .description {
            display: block;
            background-color: #eee;
            border-radius: 3px;
            min-height: 300px;
            padding: 10px;
        }

        .blok-info {
            background-color: #eee;
            border-radius: 3px;
        }
    </style>
    {% if user.is_superuser %}
        <div class="row m-2">
            <a href="admin" class="btn btn-danger">Administracja ogłoszeniem</a>
        </div>
    {% endif %}
    {% if owner %}
        {% if not ann.status == "blocked" %}
        <div class="row m-2">
            <a href="edit" class="btn btn-outline-warning">Edytuj / zablokuj ogłoszenia</a>
        </div>
        {% endif %}
        {% if ann.admin_note %}
            {% if ann.status == "blocked" %}
                <div>
                    <div class="alert alert-danger" id="alert" role="alert">
                        {{ ann.admin_note }}
                    </div>
                </div>
            {% else %}
                <div>
                    <div class="alert alert-info" id="alert" role="alert">
                        {{ ann.admin_note }}
                    </div>
                </div>
            {% endif %}
        {% endif %}
    {% endif %}


    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for photo in photos %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <img class="d-block w-100" src="{% get_media_prefix %}{{ photo.name }}" alt="{{ photo.alt_text }}">
                </div>
            {% endfor %}
        </div>
        <!-- Thumbnails Carousel -->
        <div id="thumbnailCarousel" class="carousel slide thumbnail-carousel" data-interval="false">
            <div class="carousel-inner">
                {% for photo in photos %}
                    <div class="carousel-item {% if forloop.first %}active{% endif %}" data-target="#mainCarousel"
                         data-slide-to="{{ forloop.counter0 }}">
                        <img src="{% get_media_prefix %}{{ photo.name }}" alt="Thumbnail" class="img-fluid">
                    </div>
                {% endfor %}
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>



    <div class="container mt-4">
        <h2 class="mb-4">Szczegóły ogłoszenia</h2>
        <div class="row">
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-vector-square mr-3"></i>
                    <div>
                        <strong>Powierzchnia</strong><br>
                        {{ ann.area }} m²
                    </div>
                </div>
            </div>
            <!-- Repeat for each property, replacing icon and property as necessary -->
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-door-closed mr-3"></i>
                    <div>
                        <strong>Liczba pokoi</strong><br>
                        {{ ann.number_of_rooms }}
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-building mr-3"></i>
                    <div>
                        <strong>Piętro</strong><br>
                        {{ ann.floor|default:"Brak danych" }}
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-building mr-3"></i>
                    <div>
                        <strong>Czynsz</strong><br>
                        {{ ann.price }} zł
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-headset mr-3"></i>
                    <div>
                        <strong>Obsługa zdalna</strong><br>
                        Zapytaj
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-hand-holding-usd mr-3"></i>
                    <div>
                        <strong>Forma własności</strong><br>
                        {{ ann.get_type_display }}
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-paint-roller mr-3"></i>
                    <div>
                        <strong>Stan wykończenia</strong><br>
                        {{ ann.get_status_display }}
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-tree mr-3"></i>
                    <div>
                        <strong>Balkon / ogród / taras</strong><br>
                        {{ ann.balcony_type|default:"Brak danych" }}
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4 d-flex align-items-stretch mb-3">
                <div class="d-flex p-3 border bg-light w-100">
                    <i class="fas fa-thermometer-three-quarters mr-3"></i>
                    <div>
                        <strong>Ogrzewanie</strong><br>
                        {{ ann.get_heating_type_display|default:"Brak danych" }}
                    </div>
                </div>
            </div>
            <div class="form-group mt-5">
                <h2>Opis</h2>
                <p class="description">{{ ann.description }}</p>
            </div>
        </div>
    </div>
    </div>
{% endblock %}
